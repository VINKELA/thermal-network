.trans-wrapper {
  display: grid;
  grid-template-columns: 320px 1fr;
  height: 650px;
  background: white;
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid #edf1f7;
  font-family: 'Inter', sans-serif;
}

.info-panel {
  padding: 24px;
  border-right: 1px solid #edf1f7;
  display: flex; flex-direction: column;
}

header {
  .badge { font-size: 0.65rem; text-transform: uppercase; background: #f1f5f9; color: #475569; padding: 4px 8px; border-radius: 4px; font-weight: 700; margin-bottom: 8px; display: inline-block; }
  h1 { margin: 0 0 8px 0; font-size: 1.25rem; color: #222b45; }
  
  .meta-row { display: flex; align-items: center; gap: 8px; margin-bottom: 12px; }
  .mode-tag { 
    display: flex; align-items: center; gap: 6px; 
    background: #e0f2fe; color: #0284c7; 
    padding: 6px 10px; border-radius: 6px; font-weight: 600; font-size: 0.8rem;
    i { font-size: 1.1em; }
  }
  .default-tag { background: #dcfce7; color: #166534; font-size: 0.7rem; padding: 4px 8px; border-radius: 4px; font-weight: 700; }
  .desc { font-size: 0.85rem; color: #59657b; margin: 0; }
}

.divider { border: 0; border-top: 1px dashed #edf1f7; margin: 20px 0; }

.stats-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 24px;
  .stat {
    background: #f8fafc; padding: 12px; border-radius: 8px;
    label { font-size: 0.65rem; color: #8f9bb3; display: block; margin-bottom: 4px; text-transform: uppercase; font-weight: 700; }
    .val { font-size: 1.1rem; font-weight: 600; color: #222b45; }
  }
}

.legend-box {
  background: #f8fafc; padding: 16px; border-radius: 8px; margin-bottom: 24px;
  h4 { margin: 0 0 8px 0; font-size: 0.75rem; text-transform: uppercase; color: #8f9bb3; }
  .l-item { display: flex; align-items: center; gap: 8px; margin-bottom: 6px; font-size: 0.85rem; color: #59657b; }
  
  /* Legend Icons */
  .line { width: 20px; height: 3px; border-radius: 2px; }
  .line.supply { background: #ff3d71; }
  .line.return { background: #3366ff; }
  .dot.node { width: 10px; height: 10px; border-radius: 50%; background: #8f9bb3; }
}

.footer { margin-top: auto; }
.btn-back {
  width: 100%; padding: 10px; border: 1px solid #e4e9f2; background: white; 
  border-radius: 6px; font-weight: 600; color: #59657b; cursor: pointer;
  display: flex; align-items: center; justify-content: center; gap: 8px;
  &:hover { background: #f7f9fc; color: #222b45; }
}

.map-panel { position: relative; }

.popup {
  padding: 4px; min-width: 140px;
  .tag { font-size: 0.65rem; text-transform: uppercase; padding: 2px 6px; border-radius: 4px; margin-bottom: 8px; display: inline-block; font-weight: 700; }
  .tag.supply { background: #fee2e2; color: #be123c; }
  .tag.return { background: #e0f2fe; color: #0284c7; }
  
  .row { display: flex; align-items: center; gap: 6px; margin-bottom: 4px; font-size: 0.9rem; color: #222b45; }
  .sub { font-size: 0.7rem; color: #94a3b8; margin-top: 6px; }
}

.loading { padding: 40px; text-align: center; color: #8f9bb3; }